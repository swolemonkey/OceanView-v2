datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model Price1m {
  id        Int      @id @default(autoincrement())
  symbol    String
  timestamp DateTime
  open      Decimal
  high      Decimal
  low       Decimal
  close     Decimal
  volume    Decimal
  @@index([symbol, timestamp])
}

model Order {
  id Int @id @default(autoincrement())
  symbol String
  side String // 'buy' | 'sell'
  qty Decimal
  price Decimal
  status String @default("filled") // sim always fills
  createdAt DateTime @default(now())
  
  trades Trade[]
}

model Trade {
  id Int @id @default(autoincrement())
  orderId Int
  symbol String
  side String
  qty Decimal
  price Decimal
  pnl Decimal
  ts DateTime @default(now())

  Order Order @relation(fields:[orderId], references:[id])
}

model Bot {
  id Int @id @default(autoincrement())
  name String @unique
  type String @default("scalper") // 'scalper', 'hypertrades', etc.
  enabled Boolean @default(true)
  createdAt DateTime @default(now())
} 